<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple Sentiment Analysis</title>
</head>
<body>

<h1>Tourism Sentiment Analysis</h1>

<!-- Input form for city and place -->
<label for="city">city:</label>
<input type="text" id="city" name="city">
<br><br>

<label for="Place">Place:</label>
<input type="text" id="place" name="place">
<br><br>

<button onclick="analyzeSentiment()">Analyze Sentiment</button>

<!-- Output section -->
<h2>Results:</h2>
<div id="output"></div>

<script>
    function analyzeSentiment() {
        // Get values from input fields
        const city = document.getElementById("city").value;
        const place = document.getElementById("place").value;

        // Create JSON payload
        const data = JSON.stringify({ city: city, place: place });

        // Send POST request to Flask API
        fetch("http://127.0.0.1:5000/analyze", {
            method: "POST",
            headers: {
                "Content-Type": "application/json"
            },
            body: data
        })
        .then(response => response.json())
        .then(data => {
            // Check if there is an error
            if (data.error) {
                document.getElementById("output").innerHTML = `Error: ${data.error}`;
            } else {
                // Display the results
                document.getElementById("output").innerHTML = `
                    <p>City: ${data.city}</p>
                    <p>Place: ${data.place}</p>
                    <p>Average Sentiment Score: ${data.average_sentiment_score.toFixed(2)}</p>
                    <p>Overall Sentiment: ${data.overall_sentiment}</p>
                    <p>Review Count: ${data.review_count}</p>
                `;
            }
        })
        .catch(error => {
            document.getElementById("output").innerHTML = `An error occurred: ${error}`;
        });
    }
</script>

</body>
</html>
